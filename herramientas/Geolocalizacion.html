<!DOCTYPE html>
<html lang="es">
    <head>
        <title>Tu ubicacion</title>
        <link rel="stylesheet" type="text/css" href="../css/etiquetas.css">
        <link rel="stylesheet" type="text/css" href="../css/estructura.css">
        <script type="text/javascript" href="js/contenido.js"></script>
        <script type="text/javascript" href="js/jquery-2.0.0.js"></script>
        <meta charset="utf-8"/>
    </head>
    
    <body>
        <div id="principal">
                        <!--Cabecera de la pagina y donde se encuentra el logo-->
            <header>
                <a href="../index.html" title="Inicio"><img id="logo" src="../images/logoo.png" alt="Logotipo"></a>
            </header>
            <section> 
                        <!--Pequeño estilo en el div que contiene el contenido-->
            <div id="tema" style="width:420;border:1px solid #99ccff;overflow:auto;">
                 <header>
        <h2>Se tu posicion actual.</h2>
        <p>No es gran ciencia de que cunado entras a cualquier pagina web ellos te pueden llegar a localizarte donde te encuentras utilizando una herramienta de Geolocalizacion.Asi que ellos con base a esto y utilizando usuarios puden saber donde estan se encuentran cada uno de ellos.</p>
        <h3 style="float:right;" >Gracias por tus datos.</h3>
        </header>
    <section>
        <article>
            <div id='map_canvas' style='width:100%; height:400px;'></div>
        </article>
        <div id="respuesta">
            
        </div>
    </section>
    
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>

    <script type="text/javascript">
        var map;
        var latitud;
        var longitud;
        var precision;
        
        $(document).ready(function() {
            localizame();            
        });
        
        function localizame() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(coordenadas, errores);
            }else{
                alert('Oops! Tu navegador no soporta geolocalización. Bájate Chrome, que es gratis!');
            }
        }
        
        function coordenadas(position) {
            latitud = position.coords.latitude;
            longitud = position.coords.longitude;
            precision = position.coords.accuracy;  
            cargarMapa();
            alert("Datos con una precisión de " + precision/1000 + " km, " + precision + " metros");
        }
        
        function errores(err) {
            if (err.code == 0) {
              alert("Oops! Algo ha salido mal");
            }
            if (err.code == 1) {
              alert("Oops! No has aceptado compartir tu posición");
            }
            if (err.code == 2) {
              alert("Oops! No se puede obtener la posición actual");
            }
            if (err.code == 3) {
              alert("Oops! Hemos superado el tiempo de espera");
            }
        }
         
        function cargarMapa() {
            var latlon = new google.maps.LatLng(latitud,longitud);
            var myOptions = {
                zoom: 17,
                center: latlon,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            map = new google.maps.Map($("#map_canvas").get(0), myOptions);
            
            var coorMarcador = new google.maps.LatLng(latitud,longitud);
                
            var marcador = new google.maps.Marker({
                position: coorMarcador,
                map: map,
                title: "Dónde estoy?"
            });
            
        }
    </script>
                        
            </div><!--Contenido Principal-->
            </section>
            <footer>
                Derechos reservados 2013. Politicas de privacidad de Omar Zarate Company.
            </footer><!--Pie de pagina-->    
        </div> <!--Contenedor Principal-->
    </body>
</html>
